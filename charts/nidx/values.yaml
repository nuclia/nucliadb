# -----
# nidx indexer settings
# -----

# Image settings

# -- Image pull policy
imagePullPolicy: IfNotPresent

# -- Container registry (e.g. docker.io/nuclia)
containerRegistry: CONTAINER_REGISTRY_TO_REPLACE

# -- Image name (without registry eg. nidx:latest)
image: IMAGE_TO_REPLACE

env: {}
envFrom: {}

# -- Global pod annotations to add to all pods
podAnnotations: {}

# -- Global pod labels to add to all pods
podLabels:
  nidxMetrics: "enabled"

api:
  # -- Number of replicas for the API deployment
  replicas: 2
  # -- Node selector for the API pods
  nodeSelector: {}
  # -- Topology spread constraints for the API pods
  topologySpreadConstraints: []
  # -- Pod annotations to add to the API pods
  podAnnotations: {}
  # -- Pod labels to add to the API pods
  podLabels: {}
  # -- Service account name for the API pods
  serviceAccount: default
  # -- Affinity settings for the API pods
  affinity: {}
  # -- Tolerations for the API pods
  tolerations: []

  pdb:
    # -- Enable or disable the PodDisruptionBudget for the API
    enabled: true
    # -- Maximum number of unavailable API pods during disruptions
    maxUnavailable: 1

  service:
    # -- Enable or disable the API service
    enabled: true
    # -- Service type for the API
    type: ClusterIP
    # -- Additional labels for the API service
    labels: {}
    # -- Annotations for the API service
    annotations: {}

indexer:
  # -- Pod annotations to add to the indexer pods
  podAnnotations: {}
  # -- Pod labels to add to the indexer pods
  podLabels: {}

scheduler:
  # -- Pod annotations to add to the scheduler pods
  podAnnotations: {}
  # -- Pod labels to add to the scheduler pods
  podLabels: {}

worker:
  # -- Pod annotations to add to the worker pods
  podAnnotations: {}
  # -- Pod labels to add to the worker pods
  podLabels: {}

searcher:
  # -- Number of replicas for the searcher deployment
  replicas: 2
  # -- Node selector for the searcher pods
  nodeSelector: {}
  # -- Pod annotations to add to the searcher pods
  podAnnotations: {}
  # -- Pod labels to add to the searcher pods
  podLabels: {}
  # -- Topology spread constraints for the searcher pods
  topologySpreadConstraints: []
  # -- Service account name for the searcher pods
  serviceAccount: default
  # -- Affinity settings for the searcher pods
  affinity: {}
  # -- Tolerations for the searcher pods
  tolerations: []

  pdb:
    # -- Enable or disable the PodDisruptionBudget for the searcher
    enabled: true
    # -- Maximum number of unavailable searcher pods during disruptions
    maxUnavailable: 1

  rbac:
    # -- Enable or disable RBAC for the searcher
    enabled: true

  service:
    # -- Enable or disable the searcher service
    enabled: true
    # -- Service type for the searcher
    type: ClusterIP
    # -- Additional labels for the searcher service
    labels: {}
    # -- Annotations for the searcher service
    annotations: {}

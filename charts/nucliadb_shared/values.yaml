# NucliaDB Settings

running:
  debug: True
  log_level: DEBUG
  running_environment: local
  logging_integration: False

http:
  cors:
    - http://localhost:4200

maindb:
  driver: redis # tikv | redis
  driver_redis_url:
  driver_tikv_url:

storage:
  file_backend: gcs

  gcs_base64_creds: XX
  gcs_bucket: nucliadb_{kbid}
  gcs_location: XX
  gcs_project: XX
  gcs_bucket_labels:
  gcs_deadletter_bucket: XX
  gcs_indexing_bucket: XX

  s3_client_id: XX
  s3_client_secret: XX
  s3_ssl: True
  s3_max_pool_connections: 30
  s3_region_name: XX
  s3_bucket: nucliadb_{kbid}
  s3_deadletter_bucket: XX
  s3_indexing_bucket: XX

nuclia:
  nuclia_service_account: XX
  nuclia_public_url: https://{zone}.nuclia.cloud
  nuclia_cluster_url: http://nucliadb_proxy.processing.svc.cluster.local
  nuclia_zone: XX
  onprem: XX
  nuclia_jwt_key: XX
  nuclia_hash_seed: 42
  nuclia_partitions: 1

nucliadb:
  ingest: ingest:4242
  node_writer_port: 10001
  node_reader_port: 10000
  swim_peers_addr:
    - node-0:4440
    - ingest-0:4440

transaction:
  transaction_jetstream_auth:
  transaction_jetstream_servers:
    - nats1
  transaction_jetstream_target: "ndb.consumer.{partition}"
  transaction_jetstream_group: "nucliadb-{partition}"
  transaction_jetstream_stream: "nucliadb"

cache:
  cache_pubsub_nats_url:
    - nats1
  cache_pubsub_nats_auth:
  # quote cache_memory_size to prevent Helm from converting it to scientific notation
  cache_memory_size: "209715200"
  cache_pubsub_channel: nucliadb.cache.invalidations
  cache_pubsub_redis_url:
  cache_pubsub_driver: nats # nats | redis

swim:
  interval_seconds: 5
  timeout_seconds: 5

audit:
  driver: basic
  audit_jetstream_target: "audit.{partition}.{type}"
  audit_jetstream_servers:
    - nats1
  audit_jetstream_auth:
  audit_partitions: 1
  audit_hash_seed: 1234

tracing:
  jaeger_agent_host: localhost
  jaeger_agent_thrift_compact_port: 6831
  jaeger_collector_host: collector.tracing.svc.cluster.local
  jaeger_collector_grpc_port: 14250
  jaeger_query_host: query.tracing.svc.cluster.local
  jaeger_query_http_port: 16686
